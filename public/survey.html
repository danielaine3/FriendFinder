<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Travel Buddy-Survey</title>
  <!--Link to reset CSS-->
  <!-- <link rel="stylesheet" type="text/css" href="../assets/css/reset.css"> -->
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <!--chosen links-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
</head>
<body>
	<div class="container">
		<div class="jumbotron">
			<h1 class="text-center">Travel Buddy Finder</h1>
			<h1 class="text-center">Survey</h1>
			<hr>	
			<div class="text-center">
    		<a href="/"><button type="button" class="btn btn-lg btn-primary"><span class="glyphicon glyphicon-home">Home Page</span></button></a>
  		</div>
 		</div>
 	</div>

  <div class="panel-body">
    <p>Please use the 1-5 scale to answer the below.
      <br>
      1 = Strongly Disagree. 5 = Stronly Agree.</p>
    <h1 class="text-center">About You</h1>
    <form role="form">
      <div class="form-group">
        <label for="name">Name (Required)</label>
        <input type="text" class="form-control" id="name">
        <label for="photo">Link to Photo Image (Required)</label>
        <input type="text" class="form-control" id="photo">
      </div>
 
      <div class="form-group" id="question1">
        <h2>Question 1</h2>
        <label for="form-check form-check-inline">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question1" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question1" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question1"  value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question1" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question1" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 2</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question2"  value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question2" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question2" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question2" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question2" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 3</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question3" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question3" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question3" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question3" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question3" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 4</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question4" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question4" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question4" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question4" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question4" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 5</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question5" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question5" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question5" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question5" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question5" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 6</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question6" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question6" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question6" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question6" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question6" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 7</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question7" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question7" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question7" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question7" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question7" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 8</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question8" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question8" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question8" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question8" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question8" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 9</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question9" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question9" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question9" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question9" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question9" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 10</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question10" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question10" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question10" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question10" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question10" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>
      <button type="submit" class="btn btn-primary submit" id="add-btn">Submit</button>
    </form>
  </div>
  <footer class="footer">
    <div class="container">
      <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/danielaine3/FriendFinder">GitHub Repo</a></p>
    </div>
  </footer>
    <!-- Modal -->
  <div class="modal fade" id="resultsModal"  role="dialog" >
    <div class="modal-dialog" role="document">
      <!--Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">Best Travel Buddy</h2>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <h3 id = "matchName"></h3>
          <img id = "matchImg" src="" alt="Best Match Image">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">   
    var config = {
        '.chosen-select': {},
        '.chosen-select-deselect': {
            allow_single_deselect: true
        },
        '.chosen-select-no-single': {
            disable_search_threshold: 10
        },
        '.chosen-select-no-results': {
            no_results_text: 'Oops, nothing found!'
        },
        '.chosen-select-width': {
            width: "95%"
        }
    }
    for (var selector in config) {
        $(selector).chosen(config[selector]);
    }

    $("#add-btn").on("click", function(event) {
      event.preventDefault();
      var array = []
      array.push(parseInt($("input[type=radio][name=Question1]:checked").val()),
        parseInt($("input[type=radio][name=Question2]:checked").val()),
        parseInt($("input[type=radio][name=Question3]:checked").val()),
        parseInt($("input[type=radio][name=Question4]:checked").val()),
        parseInt($("input[type=radio][name=Question5]:checked").val()),
        parseInt($("input[type=radio][name=Question6]:checked").val()),
        parseInt($("input[type=radio][name=Question7]:checked").val()),
        parseInt($("input[type=radio][name=Question8]:checked").val()),
        parseInt($("input[type=radio][name=Question9]:checked").val()),
        parseInt($("input[type=radio][name=Question10]:checked").val()));
      function validateForm() {
        var isValid = true;
        $('.form-control').each(function() {
          if ($(this).val() === '')
            isValid = false;
        });
        $(".chosen-select").each(function() {
          if ($(this).val() === "")
            isValid = false
        })
        return isValid;
      }
      if (validateForm() == true) {
        var newFriend = {
          name: $("#name").val().trim(),
          photo: $("#photo").val().trim(),
          scores: array
        };
        //Grab URL of website
        var currentURL = window.location.origin;
        //AJAX post the data to the friends API
        $.post(currentURL + "/api/friends", newFriend, function(data) {
          $("#matchName").text(data.name);
          $("#matchImg").attr("src", data.photo);
          //show the modal with best match
          $("#resultsModal").modal('toggle');
        });
      } else {
        alert ("Please complete all fields before submitting form.");
      }
      return false;
   })  ;  
  </script>
</body>
</html>
