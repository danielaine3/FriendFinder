<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Friend Finder-Survey</title>
  <!--Link to reset CSS-->
  <link rel="stylesheet" type="text/css" href="../assets/css/reset.css">
  <!-- Latest compiled and minified CSS & JS -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>
<body>
	<div class="container">
		<div class="jumbotron">
			<h1 class="text-center">Friend Finder</h1>
			<h1 class="text-center">Survey</h1>
			<hr>	
			<div class="text-center">
    		<a href="/"><button type="button" class="btn btn-lg btn-primary"><span class="glyphicon glyphicon-home">Home Page</span></button></a>
  		</div>
 		</div>
 	</div>

  <div class="panel-body">
    <p>Please use the 1-5 scale to answer the below.
      <br>
      1 = Strongly Disagree. 5 = Stronly Agree.</p>
    <h1 class="text-center">About You</h1>
    <form role="form">
      <div class="form-group">
        <label for="name">Name (Required)</label>
        <input type="text" class="form-control" id="name">
        <label for="photo">Link to Photo Image (Required)</label>
        <input type="text" class="form-control" id="photo">
      </div>

<!--       <div class="form-group">
        <label for="exampleFormControlFile1">Upload Photo (Required)</label>
        <input type="file" class="form-control-file" id="exampleFormControlFile1">
      </div> -->
 
      <div class="form-group" id="question1">
        <h2>Question 1</h2>
        <label for="form-check form-check-inline">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question1" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question1" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question1"  value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question1" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question1" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 2</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question2"  value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question2" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question2" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question2" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question2" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 3</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question3" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question3" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question3" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question3" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question3" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 4</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question4" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question4" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question4" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question4" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question4" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 5</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question5" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question5" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question5" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question5" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question5" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 6</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question6" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question6" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question6" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question6" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question6" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 7</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question7" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question7" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question7" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question7" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question7" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 8</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question8" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question8" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question8" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question8" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question8" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 9</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question9" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question9" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question9" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question9" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question9" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>

      <div class="form-group">
        <h2>Question 10</h2>
        <label for="exampleFormControlSelect1">Your mind is always buzzing with unexplored ideas and plans.</label>
        <br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question10" value="1">
          <label class="form-check-label" for="inlineRadio1">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question10" value="2">
          <label class="form-check-label" for="inlineRadio2">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question10" value="3" checked>
          <label class="form-check-label" for="inlineRadio3">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question10" value="4">
          <label class="form-check-label" for="inlineRadio4">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="Question10" value="5">
          <label class="form-check-label" for="inlineRadio5">5</label>
        </div>
      </div>
      <button type="submit" class="btn btn-primary submit" id="add-btn">Submit</button>
    </form>
  </div>
  <footer class="footer">
    <div class="container">
      <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/danielaine3/FriendFinder">GitHub Repo</a></p>
    </div>
  </footer>
</body>
</html>

<script type="text/javascript">		
  $("#add-btn").on("click", function(event) {
    event.preventDefault();

    //ADD FORM VALIDATION

    var array = []
    array.push(parseInt($("input[type=radio][name=Question1]:checked").val()),
      parseInt($("input[type=radio][name=Question2]:checked").val()),
      parseInt($("input[type=radio][name=Question3]:checked").val()),
      parseInt($("input[type=radio][name=Question4]:checked").val()),
      parseInt($("input[type=radio][name=Question5]:checked").val()),
      parseInt($("input[type=radio][name=Question6]:checked").val()),
      parseInt($("input[type=radio][name=Question7]:checked").val()),
      parseInt($("input[type=radio][name=Question8]:checked").val()),
      parseInt($("input[type=radio][name=Question9]:checked").val()),
      parseInt($("input[type=radio][name=Question10]:checked").val()));

    var newFriend = {
      name: $("#name").val().trim(),
      photo: $("#photo").val().trim(),
      scores: array
    };

    $.post("/api/friends", newFriend)
    .then(function(data) {
      // console.log(data);

      friendSearch();

    });


   function friendSearch() {
      var currentURL = window.location.origin;
      $.ajax({url:currentURL + "/api/friends", method:"GET"})
      .then(function(friendsData) {

        //console.log(friendsData[0].scores)
          console.log(newFriend.scores);

        //For each array item in the friendsData list
        for(var i = 0; i < friendsData.length; i++) {
          console.log(friendsData[i].name);          
          console.log(friendsData[i].scores);


          //compare to newFriend scores array, subtracting each value

          //get the absolute value
            //return Math.abs(a - b);
          }
          //print the smallest value
         // console.log(difference);
        //}
      })

 }





    // function friendSearch() {
    //   var currentURL = window.location.origin;
    //   $.ajax({url:currentURL + "/api/friends", method:GET})
    //   .then(function(friendsData) {


    //       console.log(friendsData)


    //     //For each array item in the friendsData list
    //     for(var i = 0; i < friendsData.length; i++) {
    //       //compare to newFriend scores array, subtracting each value

    //       //get the absolute value
    //         return Math.abs(a - b);
    //       }
    //       //print the smallest value
    //       console.log(difference);
    //     //}
    //   })

    // }
//  friendSearch();
  });

    

</script>